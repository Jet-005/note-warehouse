

## 2.1 网络应用体系结构
- **C/S结构**
  - 组成：客户程序 + 服务器程序
  - 特征：
    - 通信仅在客户与服务器间进行
    - 客户端主动发起请求
    - 服务器被动接受连接
  - 典型应用：Web服务、电子邮件
- **P2P结构**
  - 特点：无中心节点，节点地位对等
  - 节点功能：同时作为客户端和服务器
  - 典型应用：
    - 文件共享（BitTorrent、Gnutella）
    - 视频流服务
- **混合结构**
  - 结合C/S与P2P的优势
  - 存在中心服务器，同时支持节点间直接通信

## 2.2 网络应用通信基本原理
- **通信模型**
  - 进程间通信（C/S模式）
  - 逻辑通信 vs 实际通信（通过传输层交互）
  - 参考课本P53图2.4
- **Socket编程接口**
  - 定义：应用层与传输层的接口
  - 端口号机制：
    - 服务器端口：固定分配（如HTTP 80）
    - 客户端端口：随机分配
- **传输层服务类型**
  - TCP服务：
    - 面向连接、可靠传输
    - 字节流传输、流量控制
  - UDP服务：
    - 无连接、不可靠
    - 数据报传输、实时性好

## 2.3 域名系统（DNS）
- **基本概念**
  - 功能：域名与IP地址的映射转换
  - 域名格式：n级域名.…二级域名.顶级域名
  - 域名 vs IP地址：便于记忆 vs 网络层标识
- **域名结构**
  - 层次化域名空间：
    - 国家顶级域名：.cn、.us、.uk
    - 通用顶级域名：.com、.net、.edu、.gov
    - 基础结构域名：.arpa
  - 示例：csse.szu.edu.cn（深圳大学计算机学院）
- **DNS服务器类型**
  - 根域名服务器：13个全球根节点
  - 顶级域名服务器：管理顶级域名
  - 权威域名服务器：提供特定域名解析
  - 本地域名服务器：用户默认配置
- **域名解析过程**
  - 两种查询方式：
    - 递归查询：由服务器代理完成
    - 迭代查询：本地服务器直接交互
  - 优化机制：域名缓存
  - 参考课本P57图2.7-2.8

## 2.4 万维网（WWW）
- **核心概念**
  - URL（统一资源定位符）格式：协议://主机名/路径
  - HTML（超文本标记语言）：网页内容描述
  - HTTP（超文本传输协议）：应用层协议
- **HTTP协议**
  - 特点：无状态、面向连接
  - 请求-响应模型：
    - 请求方法：GET、POST、HEAD等
    - 响应状态码：
      - 2xx：成功（200 OK）
      - 3xx：重定向（301永久移动）
      - 4xx：客户端错误（404未找到）
      - 5xx：服务器错误（500服务器内部错误）
  - 连接管理：
    - 非持久连接：一次请求一个连接
    - 持久连接：多个请求复用一个连接
- **Web缓存**
  - 作用：减少延迟、降低服务器负载
  - 类型：浏览器缓存、代理服务器缓存

## 2.5 电子邮件
- **系统组成**
  - 用户代理（邮件客户端）
  - 邮件服务器
  - 邮件协议
- **核心协议**
  - SMTP（简单邮件传输协议）：
    - 功能：发送邮件
    - 端口：25
    - 特点：基于TCP、面向连接
  - POP3（邮局协议v3）：
    - 功能：接收邮件
    - 特点：下载后删除服务器副本
  - IMAP（互联网邮件访问协议）：
    - 功能：邮件管理
    - 特点：可在服务器上操作邮件
- **邮件格式**
  - 信封：邮件传输信息
  - 内容：头部（To、From、Subject）+ 正文
  - MIME扩展：支持多媒体附件

## 2.6 文件传输协议（FTP）
- **基本原理**
  - 功能：远程文件传输
  - 特点：基于TCP、可靠传输
- **连接类型**
  - 控制连接：端口21，传输命令
  - 数据连接：端口20，传输文件数据
- **工作模式**
  - 主动模式：服务器主动发起数据连接
  - 被动模式：客户端发起数据连接
- **用户认证**
  - 匿名FTP：无需账号密码
  - 特权FTP：需验证用户名密码

## 2.7 P2P应用
- **核心特点**
  - 去中心化架构
  - 节点兼具客户端和服务器功能
  - 可扩展性强
- **典型应用**
  - 文件分发：BitTorrent
    - 种子文件（.torrent）
    - 块交换机制
    -  tracker服务器
  - 即时通信：QQ、微信
  - 流媒体：P2P视频会议
- **优势与挑战**
  - 优势：资源利用率高、抗毁性强
  - 挑战：版权保护、安全控制

## 2.8 Socket编程基础
- **基本概念**
  - 套接字：IP地址+端口号
  - 编程接口：系统调用
- **TCP Socket编程**
  - 服务器端流程：
    1. 创建套接字（socket()）
    2. 绑定地址（bind()）
    3. 监听连接（listen()）
    4. 接受连接（accept()）
    5. 数据传输（recv()/send()）
    6. 关闭连接（close()）
  - 客户端流程：
    1. 创建套接字（socket()）
    2. 连接服务器（connect()）
    3. 数据传输（send()/recv()）
    4. 关闭连接（close()）
- **UDP Socket编程**
  - 无连接特性
  - 数据报传输（sendto()/recvfrom()）