# 计网1 - 5章知识点思维导图

## 第1章 网络概述
- **基本概念**
  - 计算机网络定义：自治、互连的计算机集合
  - 最大网络：Internet，含ISP（本地、区域、国家级），由路由器、交换机等分组交换设备构成
  - 协议概念：为数据交换建立的规则、标准或约定
  - 协议三要素：语法（数据与控制信息结构或格式）、语义（控制信息、动作及响应）、时序（事件实现顺序）
  - 网络功能：资源共享（硬件、软件、信息）
  - 网络分类
    - 按覆盖范围：个域网、局域网、城域网、广域网
    - 按拓扑结构：星型、环型、树型、网状型等
    - 按交换方式：电路交换、报文交换、分组交换
    - 按用户属性：公用网、私有网
- **网络结构**
  - 网络边缘：普通用户、网站
  - 接入网络：电话拨号接入、ADSL、HFC接入、局域网、移动接入
  - 网络核心：ISP，实现数据中继与转发
- **数据交换技术**
  - 概念：涉及数据交换设备和交换结点
  - 三种技术
    - 电路交换：建立临时专用线路，面向连接，如电话；过程包括电路建立、传输数据、拆除电路
    - 报文交换：以报文为单位，采用存储 - 转发方式
    - 分组交换
- **网络性能**：未详细提及
- **体系结构**：未详细提及
- **发展历史**：未详细提及

## 第2章 网络应用
- **网络应用体系结构**
  - C/S结构：客户/服务器，客户主动发起通信，服务器被动接受，客户间不通信
  - P2P结构：对等通信，每个对等端兼具客户与服务器功能，如文件分发、共享等应用
  - 混合结构：C/S和P2P结合
- **网络应用通信基本原理**
  - 应用层进程以C/S方式通信，服务器被动等待，客户主动发起
  - 通过层间接口API与传输层交互
  - 典型编程接口：套接字（Socket），每个协议对应一个接口，系统为套接字分配端口号（服务器特定，客户随机唯一）
  - 应用层使用传输层服务（TCP：面向连接、可靠、字节流；UDP：无连接、不可靠、数据报）
- **域名系统**
  - 主机IP地址：Internet上主机的唯一标识，由32位二进制数组成，常以十进制表示
  - 域名：便于记忆，与IP地址建立映射关系，由多个分量组成，各级域名有不同含义
  - 域名系统（DNS）：分布式数据库系统，包括域名空间、域名服务器、地址转换请求程序
  - DNS服务器组织方式：根域名服务器（13个，知道顶级域服务器IP）、顶级域名服务器、权威域名服务器、中间域名服务器、本地域名服务器
  - 域名解析过程：递归查询和迭代查询，可通过缓存机制提高查询效率
- **万维网**：未详细提及
- **电子邮件**：未详细提及
- **FTP**：未详细提及
- **P2P**：未详细提及
- **Socket编程基础**：未详细提及

## 第3章 传输层
- **传输层基本服务**
  - 主要功能：寻址、报文分段与重组、差错检测、进程间端到端可靠数据传输、复用与分解、端到端流量控制、拥塞控制
  - 传输单元：报文段（segment）
  - 为不同主机进程提供逻辑通信服务，通信端点是进程
  - Internet传输层协议：TCP（可靠）、UDP（不可靠），只有主机有传输层协议
  - 寻址：IP地址 + 端口号
  - 端口号分类：熟知端口号（0 - 1023）、登记端口号（1024 - 49151）、客户端口号或临时端口号（49152 - 65535）
- **复用与分解**
  - 原因：应用层多进程共用传输层协议
  - 复用：多个应用进程共用传输层协议（应用层 -> 传输层）
  - 分解：传输层将数据交付不同应用进程（传输层 -> 应用层）
  - 关键：标识套接字
    - UDP：二元组（目的IP地址 + 目的端口号）
    - TCP：四元组（源IP地址 + 源端口号 + 目的IP地址 + 目的端口号）
- **停等协议与滑动窗口协议**
  - 不可靠传输信道问题：比特跳变、传输乱序、数据丢失
  - 可靠传输措施：差错检测、确认、重传、序号、计时器
  - 停等协议：每发送一个报文段等待确认，自动重传ARQ是简单形式，通过ACK确认
  - 停等协议缺点：信道利用率低，计算公式为 $U_{Sender }=\frac{t_{Seg }}{t_{Seg }+RTT+t_{ACX}}$ 
  - 滑动窗口协议：流水线协议改进，连续发送和确认，如TCP；包括发送窗口（Ws）、接收窗口（Wr）、基序号、下一个可用序号
  - GBN协议：发送窗口Ws >= 1，接收窗口Wr = 1；发送方响应上层调用、收到ACK、计时器超时三种事件；接收方根据窗口序号处理分组，采用累积确认
- **UDP**：未详细提及
- **TCP**：未详细提及

## 第4章 网络层
- **网络层服务**
  - 主要功能：转发、路由选择（涉及路由算法）
  - 路由器转发表：交换或收集路由信息、计算路由并存储
- **虚电路与数据报**
  - 网络层服务类型：数据报服务（无连接，如因特网）、虚电路服务（面向连接）
  - 虚电路网络：逻辑连接，有虚电路号（VCID），分为永久型、交换型
  - 虚电路与数据报区别：未详细展开
- **网络互连与设备**
  - 异构网络：通过协议转换、构建虚拟互联网络实现互连，IP网络、Internet是虚拟互联网
  - 网络互连设备：协议转换的交换机和网桥、多协议路由器、应用网关；Internet主要用IP路由器
  - 典型技术：隧道技术
  - 路由器功能结构：输入端口（接收链路层帧）、交换结构（三种结构及性价比）、输出端口（组装数据报）、路由处理器（路由功能）
- **网络层拥塞控制**
  - 拥塞概念：未详细提及
  - 拥塞原因：未详细提及
  - 拥塞控制概念：分为拥塞预防和拥塞消除措施
  - 拥塞控制方法
    - 流量感知路由：根据网络负载动态调整链路权值，可改进为多路径路由、负载逐步迁移法
    - 准入控制：用于虚电路网络，审核虚电路建立
    - 流量调节：抑制分组 + 背压
    - 负载脱落：根据应用类型决定丢弃数据报
- **Internet网络层**
  - IPv4结构表格与字段含义：固定长度20字节，首部长度、数据报长度、标识等字段有特定意义
  - IP地址分类和计算：未详细提及
  - 子网参数：未详细提及
  - 子网划分：未详细提及
  - IPv4数据报分片计算：根据MTU等因素进行分片，涉及标识、标志（MF、DF）、片偏移等字段
- **路由算法与协议**：未详细提及

## 第5章 数据链路层 + 局域网
- **数据链路层服务**
  - 为网络层提供服务，介于物理层和网络层之间
  - 传送单位：帧，将比特流组织成帧传送，出错时重发帧
  - 服务内容：组帧、链路接入、可靠交付、差错控制
- **差错控制**
  - 差错原因：噪声（随机噪声、冲击噪声），涉及突发长度
  - 控制方式：检错重发、前向纠错（适用于单工链路或实时性要求高）、反馈校验、检错丢弃
  - 差错编码
    - 奇偶校验码：增加冗余位，分奇校验和偶校验
    - 汉明码：实现单个纠错，广泛应用
    - 循环冗余校验（CRC）：漏检率低，在数据链路层广泛应用；通过信息码和生成码多项式计算CRC码，公式为 $T(X)=K(X) × 2^{r}+R(X)$ ，计算涉及异或运算
- **多路控制访问协议**
  - 网络分类：点到点通信（如广域网）、广播通信（如局域网）
  - 广播网络问题：解决信道争用
  - 介质访问控制协议（MAC）
    - 信道划分MAC协议：频分多路复用（FDMA）、时分多路复用（TDMA，含同步和异步，如我国3G标准TDMA）、波分多路复用（WDMA）、码分多路复用（CDMA，3G主流技术）
    - 随机访问MAC协议
      - 纯ALOHA协议：有数据就发送，监听冲突，冲突后随机等待重发，信道利用率最高18.4%
      - 时隙ALOHA协议：将信道时间分时隙，有数据需等下一时隙开始发送，利用率最高36.8%
      - CSMA协议：增加载波监听，有非坚持、1 - 坚持、p - 坚持、CSMA/CD四种监听方式
      - CSMA/CD协议：发送过程中监听冲突，冲突时立即停止发送并发送干扰信号，等待随机时间重发，广泛应用于局域网
- **局域网**：未详细提及
- **点对点链路协议**：未详细提及